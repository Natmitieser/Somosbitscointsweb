<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/png" href="/logo-transparent.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Biblioteca - Somos Bitcoin</title>
    <style>
        html,
        body {
            background-color: #0a0a0a;
            margin: 0;
            padding: 0;
        }

        /* Smoother, slower transition */
        body {
            opacity: 0;
            transition: opacity 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }

        body.loaded {
            opacity: 1;
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>
    <div id="loader-bar"></div>
    <div id="app">
        <!-- Navbar (Full Width Strip) -->
        <div style="background: var(--primary); width: 100%;">
            <nav class="navbar container" style="background: transparent; box-shadow: none; padding: 20px;">
                <a href="/" class="logo">
                    <img src="/logo-transparent.png" alt="Somos Bitcoin Logo" />
                </a>
                <div class="nav-links">
                    <a href="/">Home</a>
                    <a href="/library.html" class="active">Cursos</a>
                    <a href="/community.html">Comunidad</a>
                    <a href="/resources.html">Recursos</a>
                </div>
                <a href="/community.html" class="search-btn">
                    Contact Us
                </a>
                <button class="mobile-menu-btn" id="menu-btn">
                    <i class="fa-solid fa-bars"></i>
                </button>
            </nav>
        </div>

        <!-- Mobile Menu Overlay -->
        <div class="mobile-menu-overlay" id="mobile-menu">
            <a href="/" class="mobile-menu-link">Home</a>
            <a href="/library.html" class="mobile-menu-link">Cursos</a>
            <a href="/community.html" class="mobile-menu-link">Comunidad</a>
            <a href="/resources.html" class="mobile-menu-link">Recursos</a>
            <br>
            <button class="mobile-menu-link" style="background:none; border:none; cursor:pointer;"
                onclick="document.getElementById('mobile-menu').classList.remove('active')">
                <i class="fa-solid fa-xmark"></i> CERRAR
            </button>
        </div>

        <!-- Library Header -->
        <header class="section container" style="padding-bottom: 20px;">
            <h1 class="section-title">Biblioteca de <span style="color: var(--primary);">Conocimiento</span></h1>

            <!-- Search Bar -->
            <div style="max-width: 600px; margin: 0 auto; position: relative;">
                <input type="text" id="search-input" placeholder="Buscar temas, videos o cursos..."
                    style="width: 100%; padding: 16px 24px; padding-left: 50px; font-size: 1.1rem; border-radius: 50px; border: 2px solid #333; background: #1a1a1a; color: white; outline: none; transition: 0.3s;">
                <i class="fa-solid fa-search"
                    style="position: absolute; left: 20px; top: 50%; transform: translateY(-50%); color: #666;"></i>
            </div>
        </header>

        <!-- Results Grid -->
        <section class="section container" style="padding-top: 20px;">
            <div style="margin-bottom: 20px; color: var(--text-muted);" id="result-count">Mostrando todos los videos
            </div>
            <div id="library-grid" class="video-grid">
                <!-- Injected by JS -->
            </div>

            <div id="no-results" style="display: none; text-align: center; padding: 40px; color: var(--text-muted);">
                <i class="fa-solid fa-ghost" style="font-size: 3rem; margin-bottom: 20px;"></i>
                <p>No encontramos videos con ese nombre.</p>
            </div>
        </section>

        <!-- Footer -->
        <footer style="background: var(--primary); padding: 20px 0; margin-top: 80px;">
            <div class="container"
                style="display: flex; justify-content: space-between; align-items: center; color: black; font-weight: 700;">
                <div style="display: flex; gap: 10px;">
                    <a href="/community.html" style="text-decoration: none; color: black;">Redes Sociales</a>
                    <span>|</span>
                    <a href="/community.html" style="text-decoration: none; color: black;">Ãšnete a Somos Bitcoin</a>
                </div>
                <span>&copy; <span id="year">2026</span> Somos Bitcoin</span>
            </div>
        </footer>

        <script>
            document.getElementById('year').textContent = new Date().getFullYear();

            window.addEventListener('DOMContentLoaded', () => {
                const loader = document.getElementById('loader-bar');
                loader.style.width = '30%';
                setTimeout(() => loader.style.width = '100%', 100);

                setTimeout(() => {
                    document.body.classList.add('loaded');
                    setTimeout(() => loader.style.opacity = '0', 600);
                }, 400);

                document.querySelectorAll('a').forEach(link => {
                    link.addEventListener('click', (e) => {
                        const href = link.getAttribute('href');
                        if (href && href.startsWith('/') && !href.startsWith('#')) {
                            e.preventDefault();
                            loader.style.transition = 'width 0s';
                            loader.style.width = '0%';
                            loader.style.opacity = '1';

                            requestAnimationFrame(() => {
                                loader.style.transition = 'width 0.4s ease';
                                loader.style.width = '100%';
                            });

                            document.body.style.opacity = '0';

                            setTimeout(() => window.location.href = href, 600);
                        }
                    });
                });
            });
        </script>

    </div>
    <script type="module" src="/src/library.js"></script>
</body>

</html>